!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t,r){for(var n=!0;n;){var o=e,s=t,i=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,s);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=s,r=i,n=!0,a=c=void 0}},a=r(3),u=t(a),c=r(4),l=t(c),d=r(1),f=(t(d),"https://aqueous-temple-6169.herokuapp.com/api/v1/"),p=new Map,h=function(t){function r(e){n(this,r),i(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={rate:0}}return o(r,t),s(r,[{key:"recalc",value:function(e){this.props.changeBase(e.target.value,this.props.to)}},{key:"showMenu",value:function(e){function t(){r.setState({dropdown:!1}),document.body.removeEventListener("click",t)}var r=this;this.setState({dropdown:!0}),document.body.addEventListener("click",t)}},{key:"moveUp",value:function(){this.props.moveUp(this.props.to)}},{key:"moveDown",value:function(){this.props.moveDown(this.props.to)}},{key:"remove",value:function(){this.props.remove(this.props.to)}},{key:"updateValue",value:function(t){var r=this,n=t.from+t.to;p.has(n)?this.setState({rate:p.get(n)}):(p.set(n,0),e(f+["rate",t.from,t.to].join("/")).then(function(e){return e.json()}).then(function(e){p.set(n,e.rate),r.setState({rate:e.rate})}))}},{key:"componentWillReceiveProps",value:function(e){this.updateValue(e)}},{key:"componentWillMount",value:function(){this.updateValue(this.props)}},{key:"render",value:function(){var e=void 0,t=void 0;return this.props.convert?this.props.from!==this.props.to?(e=parseFloat(this.props.convert),e*=this.state.rate,e=e.toFixed(4)):e=this.props.convert:e="",t="currency-more",this.state.dropdown&&(t+=" active"),u["default"].createElement("fieldset",null,u["default"].createElement("input",{type:"tel",className:"currency-input",value:e,onChange:this.recalc.bind(this)}),u["default"].createElement("label",null,this.props.to),u["default"].createElement("div",{className:t,ref:"dropdown"},u["default"].createElement("a",{className:"currency-more-open",onClick:this.showMenu.bind(this)},"Â·"),u["default"].createElement("div",{className:"currency-more-menu"},u["default"].createElement("div",{className:"currency-more-menu-item",onClick:this.moveUp.bind(this)},"Move up"),u["default"].createElement("div",{className:"currency-more-menu-item",onClick:this.moveDown.bind(this)},"Move down"),u["default"].createElement("div",{className:"currency-more-menu-item",onClick:this.remove.bind(this)},"Remove"))))}}]),r}(u["default"].Component);h.propTypes={recalc:u["default"].PropTypes.func,from:u["default"].PropTypes.string.isRequired,to:u["default"].PropTypes.string.isRequired,rate:u["default"].PropTypes.number};var m=function(t){function r(){var t=this;n(this,r),i(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.state={convert:"1.0000",currencies:[],addedCurrencies:["EUR","SGD","USD"],from:"EUR"},e(f+"currencies").then(function(e){return e.json()}).then(function(e){t.setState({currencies:e})})}return o(r,t),s(r,[{key:"changeBase",value:function(e,t){this.setState({convert:e,from:t})}},{key:"onNewCurrency",value:function(e){this.setState({addedCurrencies:this.state.addedCurrencies.concat(e)})}},{key:"moveUp",value:function(e){var t=this.state.addedCurrencies.slice(),r=t.indexOf(e);t.splice(r,1),t.splice(Math.max(r-1,0),0,e),this.setState({addedCurrencies:t})}},{key:"moveDown",value:function(e){var t=this.state.addedCurrencies.slice(),r=t.indexOf(e);t.splice(r,1),t.splice(r+1,0,e),this.setState({addedCurrencies:t})}},{key:"remove",value:function(e){var t=this.state.addedCurrencies.slice(),r=t.indexOf(e);t.splice(r,1),this.setState({addedCurrencies:t})}},{key:"render",value:function(){var e=this,t=this.state.addedCurrencies.map(function(t){return u["default"].createElement(h,{key:t,convert:e.state.convert,from:e.state.from,to:t,changeBase:e.changeBase.bind(e),remove:e.remove.bind(e),moveDown:e.moveDown.bind(e),moveUp:e.moveUp.bind(e)})});return u["default"].createElement("div",null,u["default"].createElement("section",null,t),u["default"].createElement(y,{addedCurrencies:this.state.currencies,onNewCurrency:this.onNewCurrency.bind(this),currencies:this.state.currencies}))}}]),r}(u["default"].Component),y=function(e){function t(e){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={value:""}}return o(t,e),s(t,[{key:"filterList",value:function(e){this.setState({value:e.target.value})}},{key:"addCurrency",value:function(e,t){this.props.onNewCurrency(e.code),this.refs.input.value="",this.setState({value:""})}},{key:"addCurrencyFromSelect",value:function(e){this.props.onNewCurrency(this.refs.select.value),this.refs.select.value="none",this.setState({value:""})}},{key:"render",value:function(){var e=this,t=this.props.currencies.filter(function(t){var r=new RegExp(e.state.value,"i");return t.code.search(r)>-1||t.name.search(r)>-1}).map(function(t){var r=e.props.addedCurrencies.indexOf(t.code)>-1?"active":"";return r+=" new-currency-list-item",u["default"].createElement("div",{key:t.code,className:r,onClick:e.addCurrency.bind(e,t)},u["default"].createElement("span",{className:"new-currency-list-item-code"},t.code),u["default"].createElement("span",{className:"new-currency-list-item-name"},t.name))}),r=this.props.currencies.map(function(e){return u["default"].createElement("option",{key:e.code,value:e.code},e.code," ",e.name)});return u["default"].createElement("section",{className:"new-currency"},u["default"].createElement("input",{className:"new-currency-input",type:"text",placeholder:"add a currency",ref:"input",onChange:this.filterList.bind(this)}),u["default"].createElement("div",{className:"new-currency-list"},t),u["default"].createElement("select",{className:"new-currency-select",ref:"select",onChange:this.addCurrencyFromSelect.bind(this)},u["default"].createElement("option",{value:"none",disabled:!0},"add a currency"),r))}}]),t}(u["default"].Component);y.propTypes={currencies:u["default"].PropTypes.arrayOf(u["default"].PropTypes.object).isRequired,onNewCurrency:u["default"].PropTypes.func},l["default"].render(u["default"].createElement(m,null),document.getElementById("app"))}).call(t,r(2))},function(e,t){},function(e,t){(function(t){(function(){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function n(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function i(e){var t=new FileReader;return t.readAsText(e),o(t)}function a(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},p.blob?(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=n(this);return e?e:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function c(e,t){t=t||{};var n=t.body;if(c.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new r(t.headers)),this.method=u(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function l(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function d(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();t.append(n,o)}),t}function f(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=e(r),n=t(n);var o=this.map[r];o||(o=[],this.map[r]=o),o.push(n)},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(r,n){this.map[e(r)]=[t(n)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},a.call(c.prototype),a.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];f.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},self.Headers=r,self.Request=c,self.Response=f,self.fetch=function(e,t){return new Promise(function(r,n){function o(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var s;s=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t);var i=new XMLHttpRequest;i.onload=function(){var e=1223===i.status?204:i.status;if(100>e||e>599)return void n(new TypeError("Network request failed"));var t={status:e,statusText:i.statusText,headers:d(i),url:o()},s="response"in i?i.response:i.responseText;r(new f(s,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.open(s.method,s.url,!0),"include"===s.credentials&&(i.withCredentials=!0),"responseType"in i&&p.blob&&(i.responseType="blob"),s.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},self.fetch.polyfill=!0}}(),e.exports=t.fetch}).call(t)}).call(t,function(){return this}())},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM}]);
//# sourceMappingURL=bundle.js.map